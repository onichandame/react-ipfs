(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{1007:function(e,t){},1009:function(e,t){},1041:function(e,t){},1215:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),l=n.n(c),o=n(1273),u=n(203),i=n(479);"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function s(e,t){try{var n=e()}catch(a){return t(a)}return n&&n.then?n.then(void 0,t):n}var m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(a.useState)(null),c=r[0],l=r[1],o=Object(a.useState)(null),u=o[0],m=o[1];return Object(a.useEffect)((function(){var e=function(){try{return l(null),m(null),Promise.resolve()}catch(e){return Promise.reject(e)}};return e().then((function(){return function(){try{var e=s((function(){function e(e){l(e),console.timeEnd(n),m(null)}var n="IPFS Created";console.time(n);var a=window.ipfs;return a?e(a):Promise.resolve(i.create.apply(void 0,t).then((function(e){try{return window.ipfs=e,Promise.resolve(e)}catch(t){return Promise.reject(t)}}))).then(e)}),(function(e){console.error("IPFS creation error:",e),l(null),m(e)}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(n){return Promise.reject(n)}}()})),function(){e()}}),t),[c,u]},f=Object(a.createContext)([null,null]),b=function(e){var t=e.children,n=e.args,a=m(n),c=a[0],l=a[1];return r.a.createElement(f.Provider,{value:[c,l]},t)},p=function(){return Object(a.useContext)(f)},v=n(46),E=n(1252),d=n(1254),h=n(1),O=n.n(h),j=n(47),x=n(52),w=n(92),y=n(1255),S=n(1216),g=n(1256),k=n(1257),C=n(1258),P=n(1259),I=n(1253),A=n(1276),F=n(1260),T=n(1274),D=function(e){var t=e.fields,n=void 0===t?1:t,c=e.onSubmit,l=e.submit,o=void 0===l?"submit":l,u="number"===typeof n?n:n.length,i=Object(a.useState)((function(){for(var e=[],t=0;t<u;++t)e.push("");return e})),s=Object(v.a)(i,2),m=s[0],f=s[1],b=Object(a.useState)(Object(w.v4)()),p=Object(v.a)(b,1)[0];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(m)}},Array.from(new Array(u)).map((function(e,t){return r.a.createElement(T.a,{key:"".concat(p,"-").concat(t),placeholder:Array.isArray(n)?n[t]:"",onChange:function(e){var n=Array.from(m);n[t]=e.currentTarget.value,f(n)}})})),r.a.createElement(I.a,{type:"submit",variant:"contained"},o))},z=new TextEncoder,G=new TextDecoder,W=function(e){var t=e.ipfs,n=Object(u.b)().enqueueSnackbar,c="file-".concat(Object(w.v1)()),l=Object(a.useState)(""),o=Object(v.a)(l,2),i=o[0],s=o[1],m=Object(a.useState)(0),f=Object(v.a)(m,2),b=f[0],p=f[1],E=Object(a.useState)([]),h=Object(v.a)(E,2),T=h[0],W=h[1],B=Object(a.useState)(""),J=Object(v.a)(B,2),M=J[0],q=J[1],N=Object(a.useState)(null),R=Object(v.a)(N,2),V=R[0],$=R[1],H=Object(a.useState)(!1),K=Object(v.a)(H,2),L=K[0],Q=K[1],U=Object(a.useCallback)(Object(j.a)(O.a.mark((function e(){var n,a,r,c,l,o,u,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=36;break}n=[],a=!0,r=!1,e.prev=4,l=Object(x.a)(t.files.ls("/"));case 6:return e.next=8,l.next();case 8:return o=e.sent,a=o.done,e.next=12,o.value;case 12:if(u=e.sent,a){e.next=19;break}i=u,n.push({name:i.name,cid:i.cid.toString()});case 16:a=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),r=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==l.return){e.next=30;break}return e.next=30,l.return();case 30:if(e.prev=30,!r){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:W(n);case 36:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])}))),[t]);Object(a.useEffect)((function(){if(t&&t.id){t.id().then((function(e){s(e.id),U()}));var e=setInterval(Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.isOnline()){e.next=6;break}return e.t0=p,e.next=4,t.swarm.peers();case 4:e.t1=e.sent.length,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),1e3);return function(){clearInterval(e)}}}),[t,U]);var X=Object(a.useCallback)(function(){var e=Object(j.a)(O.a.mark((function e(n){var a,r,c,l,o,u,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=44;break}e.prev=1,a="",r=!0,c=!1,e.prev=5,o=Object(x.a)(t.cat(n));case 7:return e.next=9,o.next();case 9:return u=e.sent,r=u.done,e.next=13,u.value;case 13:if(i=e.sent,r){e.next=21;break}return s=i,a=G.decode(s),e.abrupt("break",21);case 18:r=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),c=!0,l=e.t0;case 27:if(e.prev=27,e.prev=28,r||null==o.return){e.next=32;break}return e.next=32,o.return();case 32:if(e.prev=32,!c){e.next=35;break}throw l;case 35:return e.finish(32);case 36:return e.finish(27);case 37:q(a),e.next=43;break;case 40:e.prev=40,e.t1=e.catch(1),q(e.t1.message);case 43:Q(!0);case 44:case"end":return e.stop()}}),e,null,[[1,40],[5,23,27,37],[28,,32,36]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{container:!0,direction:"column"},r.a.createElement(d.a,{item:!0},r.a.createElement(y.a,{component:S.a},r.a.createElement(g.a,{size:"small","aria-label":"node info"},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"ID"),r.a.createElement(P.a,null,i)),r.a.createElement(C.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Peers"),r.a.createElement(P.a,null,b)),r.a.createElement(C.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Publish"),r.a.createElement(P.a,null,r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t&&V&&t.files.write("/".concat(V.name),V,{create:!0}).then(U)}},r.a.createElement("input",{id:c,style:{display:"none"},type:"file",onChange:function(e){e.preventDefault(),e.currentTarget.files&&e.currentTarget.files.length&&$(e.currentTarget.files[0])}}),r.a.createElement("label",{htmlFor:c},r.a.createElement(I.a,{variant:"text",component:"span"},(null===V||void 0===V?void 0:V.name)||"choose a file")),r.a.createElement(I.a,{type:"submit",variant:"contained"},"submit")))),r.a.createElement(C.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Read"),r.a.createElement(P.a,null,r.a.createElement(D,{onSubmit:function(e){return X(e[0])}}))),r.a.createElement(C.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Subscribe"),r.a.createElement(P.a,null,r.a.createElement(D,{fields:["topic"],submit:"subscribe",onSubmit:function(){var e=Object(j.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,t.pubsub.subscribe(a[0],(function(e){n("received message ".concat(G.decode(e.data)))}));case 3:n("subscribed to ".concat(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),r.a.createElement(C.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Publish"),r.a.createElement(P.a,null,r.a.createElement(D,{submit:"publish",fields:["topic","message"],onSubmit:function(){var e=Object(j.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,t.pubsub.publish(a[0],z.encode(a[1]));case 3:n("published ".concat(a[1]," to topic ").concat(a[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),r.a.createElement(C.a,null,r.a.createElement(P.a,{component:"th",scope:"row"},"Files"),r.a.createElement(P.a,null,r.a.createElement(y.a,null,r.a.createElement(g.a,{size:"small","aria-label":"file list ".concat(Object(w.v1)())},r.a.createElement(k.a,null,T.map((function(e){return r.a.createElement(C.a,{key:"file-".concat(Object(w.v1)())},r.a.createElement(P.a,null,e.name),r.a.createElement(P.a,null,e.cid))})))))))))))),r.a.createElement(A.a,{open:L,onClose:function(){return Q(!1)}},r.a.createElement(F.a,null,M)))},B=n(1261),J=n(1262),M=n(1263),q=n(1264),N=n(1265),R=n(1266),V=n(1272),$=n(1267),H=n(1268),K=n(1269),L=n(1270),Q=n(1271),U=n(480),X=n(1277),Y=Object(a.createContext)([]),Z=Object(a.createContext)(""),_=function(e){var t=e.number;return t<=0?r.a.createElement(B.a,null):t<10?r.a.createElement(J.a,null):t<64?r.a.createElement(M.a,null):t<128?r.a.createElement(q.a,null):t<256?r.a.createElement(N.a,null):r.a.createElement(R.a,null)},ee=function(){var e=p(),t=Object(v.a)(e,1)[0],n=Object(a.useState)(null),c=Object(v.a)(n,2),l=c[0],o=c[1],u=Object(a.useState)(Object(w.v4)()),i=Object(v.a)(u,1)[0],s=Object(a.useState)(0),m=Object(v.a)(s,2),f=m[0],b=m[1],E=Object(a.useContext)(Y);Object(a.useEffect)((function(){E.length!==f&&b(E.length)}),[E,f]);var d=function(){o(null)};return r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement($.a,{position:"static"},r.a.createElement(H.a,null,r.a.createElement(K.a,{variant:"h6",noWrap:!0},"IPFS"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(L.a,null,r.a.createElement(Q.a,{badgeContent:f},r.a.createElement(V.a,null))),r.a.createElement(L.a,{edge:"end","aria-label":"ipfs node","aria-controls":i,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},r.a.createElement(_,{number:f})))),r.a.createElement(U.a,{anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:i,keepMounted:!0,open:!!l,onClose:d},r.a.createElement(X.a,{onClick:function(){d(),t&&!t.isOnline()&&t.start()}},"Start"),r.a.createElement(X.a,{onClick:function(){d(),t&&t.isOnline()&&t.stop()}},"Stop")))},te=Object(E.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var ne=function(){var e=te(),t=p(),n=Object(v.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(""),u=Object(v.a)(o,2),i=u[0],s=u[1],m=Object(a.useState)([]),f=Object(v.a)(m,2),b=f[0],E=f[1];return Object(a.useEffect)((function(){var e=function(){s(""),E([])},t=setInterval((function(){!l&&c&&c.isOnline()?(c.id().then((function(e){var t=e.id;return s(t)})),c.swarm.peers().then((function(e){return E(e)}))):e()}),1e3);return function(){return clearInterval(t)}}),[c,l]),r.a.createElement(Y.Provider,{value:b},r.a.createElement(Z.Provider,{value:i},r.a.createElement("div",{className:e.root},r.a.createElement(ee,null),r.a.createElement(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center"},r.a.createElement(d.a,{item:!0},l&&l.message||c?r.a.createElement(W,{ipfs:c}):"loading")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null),r.a.createElement(u.a,{maxSnack:3},r.a.createElement(b,null,r.a.createElement(ne,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},217:function(e,t){},491:function(e,t,n){e.exports=n(1215)},508:function(e,t){},583:function(e,t){},584:function(e,t){},681:function(e,t){},683:function(e,t){},739:function(e,t){},796:function(e,t){},805:function(e,t){},807:function(e,t){},910:function(e,t){},915:function(e,t){},985:function(e,t){}},[[491,1,2]]]);
//# sourceMappingURL=main.24049538.chunk.js.map