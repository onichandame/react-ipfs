(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{1159:function(e,t){},1293:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(38),o=n.n(c),l=n(1333),i=(n(477),n(1321)),u=n(1332),s=n(44),m=n(1331),f=n(459),p=n.n(f),b=n(461),d=n.n(b);"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t,n){return(h=E()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&v(r,n.prototype),r}).apply(null,arguments)}var S=function(e){return e&&e.external?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(a.useState)(null),c=r[0],o=r[1],l=Object(a.useState)(null),i=l[0],u=l[1],s=null;return Object(a.useEffect)((function(){return s||(s=function(){try{if(c)console.log("IPFS already started");else try{t&&t[0]?(console.time("IPFS Started"),o(h(d.a,t)),console.timeEnd("IPFS Started"),u(null)):(o(null),u(new Error("daemon address cannot be empty")))}catch(e){console.error("IPFS init error:",e),o(null),u(e)}return Promise.resolve()}catch(e){return Promise.reject(e)}}()),function(){s=null}}),t),[c,i]}(e.opts):function(){var e=Object(a.useState)(null),t=e[0],n=e[1],r=Object(a.useState)(null),c=r[0],o=r[1],l=null;return Object(a.useEffect)((function(){return l||(l=function(){try{var e=function(){if(t)console.log("IPFS already started");else{var e=function(e,t){try{var n=e()}catch(a){return t(a)}return n&&n.then?n.then(void 0,t):n}((function(){return console.time("IPFS Started"),Promise.resolve(p.a.create()).then((function(e){n(e),console.timeEnd("IPFS Started"),o(null)}))}),(function(e){console.error("IPFS init error:",e),n(null),o(e)}));if(e&&e.then)return e.then((function(){}))}}();return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(a){return Promise.reject(a)}}()),function(){l=null,t&&t.stop&&(console.log("Stopping IPFS"),t.stop().catch((function(e){return console.error(e)})),n(null),o(null))}}),[]),[t,c]}()},y=n(0),x=n.n(y),j=n(20),g=n(50),O=n(462),w=n(1325),k=n(1326),I=n(1327),P=n(1328),F=n(1329),T=n(1330),C=n(1335),D=n(1334),R=function(e){var t=e.ipfs,n="file-".concat(Object(O.v1)()),c=Object(a.useState)(""),o=Object(s.a)(c,2),l=o[0],u=o[1],m=Object(a.useState)(""),f=Object(s.a)(m,2),p=f[0],b=f[1],d=Object(a.useState)(0),v=Object(s.a)(d,2),E=v[0],h=v[1],S=Object(a.useState)([]),y=Object(s.a)(S,2),R=y[0],N=y[1],_=Object(a.useState)(""),B=Object(s.a)(_,2),J=B[0],A=B[1],V=Object(a.useState)(null),W=Object(s.a)(V,2),z=W[0],G=W[1],M=Object(a.useCallback)(Object(j.a)(x.a.mark((function e(){var n,a,r,c,o,l,i,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=36;break}n=[],a=!0,r=!1,e.prev=4,o=Object(g.a)(t.files.ls("/"));case 6:return e.next=8,o.next();case 8:return l=e.sent,a=l.done,e.next=12,l.value;case 12:if(i=e.sent,a){e.next=19;break}u=i,n.push({name:u.name,cid:u.cid.toString()});case 16:a=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),r=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==o.return){e.next=30;break}return e.next=30,o.return();case 30:if(e.prev=30,!r){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:N(n);case 36:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])}))),[t]);Object(a.useEffect)((function(){t&&(t.id().then((function(e){return u(e.id)})),setInterval(Object(j.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h,e.next=3,t.swarm.peers();case 3:e.t1=e.sent.length,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),1e3),M())}),[t,M]);var $=Object(a.useCallback)(Object(j.a)(x.a.mark((function e(){var n,a,r,c,o,l,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!p){e.next=45;break}e.prev=1,n="",a=!0,r=!1,e.prev=5,o=Object(g.a)(t.cat(p));case 7:return e.next=9,o.next();case 9:return l=e.sent,a=l.done,e.next=13,l.value;case 13:if(i=e.sent,a){e.next=21;break}return n=i.toString(),e.abrupt("break",21);case 18:a=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),r=!0,c=e.t0;case 27:if(e.prev=27,e.prev=28,a||null==o.return){e.next=32;break}return e.next=32,o.return();case 32:if(e.prev=32,!r){e.next=35;break}throw c;case 35:return e.finish(32);case 36:return e.finish(27);case 37:alert(n),A(n),e.next=45;break;case 41:e.prev=41,e.t1=e.catch(1),alert(e.t1.message),A(e.t1.message);case 45:case"end":return e.stop()}}),e,null,[[1,41],[5,23,27,37],[28,,32,36]])}))),[t,p]);return r.a.createElement(i.a,{container:!0,direction:"column"},r.a.createElement(i.a,{item:!0},r.a.createElement(w.a,{component:k.a},r.a.createElement(I.a,{size:"small","aria-label":"node info"},r.a.createElement(P.a,null,r.a.createElement(F.a,null,r.a.createElement(T.a,{component:"th",scope:"row"},"ID"),r.a.createElement(T.a,null,l)),r.a.createElement(F.a,null,r.a.createElement(T.a,{component:"th",scope:"row"},"Peers"),r.a.createElement(T.a,null,E)))))),r.a.createElement(i.a,{item:!0},r.a.createElement(i.a,{container:!0,direction:"column"},r.a.createElement(i.a,{item:!0},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t&&z&&t.files.write("/".concat(z.name),z,{create:!0}).then(M)}},r.a.createElement("input",{id:n,style:{display:"none"},type:"file",onChange:function(e){e.preventDefault(),e.currentTarget.files&&e.currentTarget.files.length&&G(e.currentTarget.files[0])}}),r.a.createElement("label",{htmlFor:n},r.a.createElement(C.a,{variant:"text",component:"span"},(null===z||void 0===z?void 0:z.name)||"choose a file")),r.a.createElement(C.a,{type:"submit",variant:"contained"},"submit"))),r.a.createElement(i.a,{item:!0},JSON.stringify(R)),r.a.createElement(i.a,{item:!0},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t&&p&&$()}},r.a.createElement(D.a,{onChange:function(e){return b(e.currentTarget.value)}}),r.a.createElement(C.a,{type:"submit"},"Get File Content"))),r.a.createElement(i.a,{item:!0},r.a.createElement("div",null,J)))))},N=function(){var e=S(),t=Object(s.a)(e,2),n=t[0],a=t[1];return r.a.createElement(i.a,{container:!0,spacing:2,direction:"column",alignItems:"center"},r.a.createElement(i.a,{item:!0},r.a.createElement(m.a,{variant:"h5"},"Embedded IPFS Node:")),r.a.createElement(i.a,{item:!0},a?a.message:r.a.createElement(R,{ipfs:n})))},_=function(){var e=Object(a.useState)("http://localhost:5001"),t=Object(s.a)(e,2),n=t[0],c=t[1],o=S({external:!0,opts:n}),l=Object(s.a)(o,2),u=l[0],f=l[1];return r.a.createElement(i.a,{container:!0,spacing:2,direction:"column",alignItems:"center"},r.a.createElement(i.a,{item:!0},r.a.createElement(i.a,{container:!0,direction:"row"},r.a.createElement(i.a,{item:!0},r.a.createElement(m.a,{variant:"h5"},"External IPFS Node:")),r.a.createElement(i.a,{item:!0},r.a.createElement(D.a,{defaultValue:n,onBlur:function(e){e.currentTarget&&e.currentTarget.value&&c(e.currentTarget.value)}})))),r.a.createElement(i.a,{item:!0},f?f.message:r.a.createElement(R,{ipfs:u})))};var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(i.a,{item:!0,xs:5},r.a.createElement(N,null)),r.a.createElement(u.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(i.a,{item:!0,xs:5},r.a.createElement(_,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null),r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},198:function(e,t){},472:function(e,t,n){e.exports=n(1293)},477:function(e,t,n){},484:function(e,t){},545:function(e,t){},546:function(e,t){},710:function(e,t){},749:function(e,t){},758:function(e,t){},760:function(e,t){},869:function(e,t){},937:function(e,t){},965:function(e,t){},967:function(e,t){},994:function(e,t){}},[[472,1,2]]]);
//# sourceMappingURL=main.b13558f2.chunk.js.map